-- Use the following script to create the tables using MySQL or Personal Oracle Express
-- Then attempt the questions that follow in file named SQLQuestions.txt


-- echo Building demo tables. Please wait. 
-- DROP TABLE EMP CASCADE CONSTRAINTS; 
-- DROP TABLE DEPT; 
-- DROP TABLE SALGRADE; 
-- DROP TABLE Prod CASCADE CONSTRAINTS; 
-- DROP TABLE Vend; 
CREATE DATABASE excercise;
USE excercise;

CREATE TABLE DEPT ( 
DEPTNO NUMERIC(2) NOT NULL, 
DNAME CHAR(14), 
LOC CHAR(13), 
CONSTRAINT DEPT_PRIMARY_KEY PRIMARY KEY (DEPTNO)); 

INSERT INTO DEPT VALUES (10,'ACCOUNTING','NEW YORK'); 
INSERT INTO DEPT VALUES (20,'RESEARCH','DALLAS'); 
INSERT INTO DEPT VALUES (30,'SALES','CHICAGO'); 
INSERT INTO DEPT VALUES (40,'OPERATIONS','BOSTON'); 

CREATE TABLE EMP ( 
EMPNO NUMERIC(4) NOT NULL, 
ENAME CHAR(10), 
JOB CHAR(9), 
MGR NUMERIC(4), 
HIREDATE DATE, 
SAL NUMERIC(7,2), 
COMM NUMERIC(7,2), 
DEPTNO NUMERIC(2) NOT NULL, 
CONSTRAINT EMP_FOREIGN_KEY FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO), 
CONSTRAINT EMP_PRIM_KEY PRIMARY KEY (EMPNO)); 
-- ALTER TABLE EMP ADD CONSTRAINT EMP_SELF_KEY FOREIGN KEY (EMPNO) REFERENCES EMP (EMPNO);

INSERT INTO EMP VALUES (7839,'KING','PRESIDENT',NULL,'1981-11-17',5000,NULL,10); 
INSERT INTO EMP VALUES (7698,'BLAKE','MANAGER',7839,'1981-05-01',2850,NULL,30); 
INSERT INTO EMP VALUES (7782,'CLARK','MANAGER',7839,'1981-06-09',2450,NULL,10); 
INSERT INTO EMP VALUES (7566,'JONES','MANAGER',7839,'1981-04-02',2975,NULL,20); 
INSERT INTO EMP VALUES (7654,'MARTIN','SALESMAN',7698,'1981-09-28',1250,1400,30); 
INSERT INTO EMP VALUES (7499,'ALLEN','SALESMAN',7698,'1981-02-20',1600,300,30); 
INSERT INTO EMP VALUES (7844,'TURNER','SALESMAN',7698,'1981-09-08',1500,0,30); 
INSERT INTO EMP VALUES (7900,'JAMES','CLERK',7698,'1981-12-03',950,NULL,30); 
INSERT INTO EMP VALUES (7521,'WARD','SALESMAN',7698,'1981-02-22',1250,500,30); 
INSERT INTO EMP VALUES (7902,'FORD','ANALYST',7566,'1981-12-03',3000,NULL,20); 
INSERT INTO EMP VALUES (7369,'SMITH','CLERK',7902,'1980-12-17',800,NULL,20); 
INSERT INTO EMP VALUES (7788,'SCOTT','ANALYST',7566,'1982-12-09',3000,NULL,20); 
INSERT INTO EMP VALUES (7876,'ADAMS','CLERK',7788,'1983-01-12',1100,NULL,20); 
INSERT INTO EMP VALUES (7934,'MILLER','CLERK',7782,'1982-01-23',1300,NULL,10); 

CREATE TABLE SALGRADE ( 
GRADE NUMERIC, 
LOSAL NUMERIC, 
HISAL NUMERIC); 

INSERT INTO SALGRADE VALUES (1,700,1200); 
INSERT INTO SALGRADE VALUES (2,1201,1400); 
INSERT INTO SALGRADE VALUES (3,1401,2000); 
INSERT INTO SALGRADE VALUES (4,2001,3000); 
INSERT INTO SALGRADE VALUES (5,3001,9999); 

CREATE TABLE Prod 
( ProdNo NUMERIC(4) NOT NULL, 
PName CHAR(10), 
Type CHAR(4), 
Family NUMERIC(4), 
Price NUMERIC(7,2), 
Disc NUMERIC(3,1), 
IntroDate DATE, 
VendNo NUMERIC(4), 
Inv NUMERIC(3), 
PRIMARY KEY (ProdNo)); 

INSERT INTO Prod VALUES ( 
4186, 'Lotus 123', 'SPSH', 2215, 399.95, 25, '1990-05-08' ,26, 35); 
INSERT INTO Prod VALUES ( 
2215, 'Windows', 'OS', 7224, 129, 40, '1990-06-15' ,12, 123); 
INSERT INTO Prod VALUES ( 
6240, 'AmiPro', 'WP', 2215, 295.5, 33.3, '1990-06-01' ,26, 17); 
INSERT INTO Prod VALUES ( 
7224, 'MS-DOS', 'OS', NULL, 99.95, 30, '1991-03-03' ,12, 88); 
INSERT INTO Prod VALUES ( 
3055, 'Lotus 123', 'SPSH', 3088, 399.95, 0, '1990-10-18' ,26, 12); 
INSERT INTO Prod VALUES ( 
3088, 'Macintosh', 'OS', NULL, 149.95, NULL, '1989-12-12' ,41, 142); 
INSERT INTO Prod VALUES ( 
1108, 'Finance', 'BUS', 4186, 99.95, NULL, '1991-04-22' ,82, 16); 
INSERT INTO Prod VALUES ( 
9167, 'Lotus 123', 'SPSH', 7224, 399.95, 35, '1989-02-26' ,26, 71); 
INSERT INTO Prod VALUES ( 
4925, 'Paradox', 'DBMS', 7224, 345, 25, '1989-09-21' ,55, 64); 
INSERT INTO Prod VALUES ( 
1067, 'Finance', 'BUS', 9167, 99.95, NULL, '1989-03-07' ,82, 0); 
INSERT INTO Prod VALUES ( 
6482, 'BusPlan', 'BUS', 4186, 54.5, 10, '1991-01-05' ,82, 41); 
INSERT INTO Prod VALUES ( 
7190, 'BusPlan', 'BUS', 9167, 54.5, 10, '1989-02-14' ,82, NULL); 
INSERT INTO Prod VALUES ( 
6888, 'BusPlan', 'BUS', 3055, 54.5, 0, '1989-02-14' ,82, 26); 
INSERT INTO Prod VALUES ( 
3981, 'SQL*Report', 'DBMS', 5476, 149.5, 0, '1990-09-22' ,58, 12); 
INSERT INTO Prod VALUES ( 
9482, 'Quattro', 'SPSH', 7224, 199.95, 30, '1990-08-24' ,55, 53); 
INSERT INTO Prod VALUES ( 
5476, 'Oracle', 'DBMS', 7224, 895, 5, '1990-09-12' ,58, 38); 
INSERT INTO Prod VALUES ( 
3007, 'Finance', 'BUS', 9482, 99.95, NULL, '1990-11-06' ,82, 17); 
INSERT INTO Prod VALUES ( 
8120, 'Inventory', 'BUS', 9482, 199.5, 10, '1990-11-06' ,82, 0); 
INSERT INTO Prod VALUES ( 
1830, 'SQL*Plus', 'DBMS', 5476, 199.5, 5, '1990-10-06' ,58, 19); 

CREATE TABLE Vend 
( VName CHAR(10), 
VState CHAR(2), 
VendNo NUMERIC(2) NOT NULL, 
Acct CHAR(5), 
PRIMARY KEY (VendNo)); 

INSERT INTO Vend VALUES ( 
'Apple', 'CA', 41, 'COD'); 
INSERT INTO Vend VALUES ( 
'Oracle', 'CA', 58, '30'); 
INSERT INTO Vend VALUES ( 
'Lotus', 'UT', 26, '30'); 
INSERT INTO Vend VALUES ( 
'Microsoft', 'WA', 12, '10'); 
INSERT INTO Vend VALUES ( 
'Acme', 'UT', 82, 'COD'); 
INSERT INTO Vend VALUES ( 
'Borland', 'CA', 55, '30'); 
INSERT INTO Vend VALUES ( 
'Ace', 'OR', 67, '30'); 
-- CREATE VIEW T1 AS SELECT * FROM EMP;

COMMIT; 

